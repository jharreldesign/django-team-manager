{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/teams/team-index.css' %}" />
{% endblock %}
{% block content %}

<section class="card-container">
    {% for team in teams %}
    <div class="card">
        <a href="{% url 'team-detail' team.id %}">
            <div class="card-img-container">
                {% if team.logo_url %}
                    <img src="{{ team.logo_url }}" alt="{{ team.name }} Logo" />
                {% else %}
                    <img src="{% static 'images/coach-logo.png' %}" alt="Default Coaches Logo" />
                {% endif %}
            </div>
            <div class="card-content">
                <h2 class="card-title">{{ team.city }} {{ team.name }}</h2>
                <p><strong>Sport: </strong>{{ team.sport }}</p>
            </div>
        </a>
    </div>
    {% endfor %}
</section>

{% if user.is_authenticated %}
    <p>Welcome, {{ user.username }}!</p>
    <form method="post" action="{% url 'logout' %}">
        {% csrf_token %}
        <button type="submit">Log out</button>
    </form>
{% else %}
    <!-- Login Form -->
    <div class="login-container">
        <h3>Login</h3>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            {{ form.as_p }}  <!-- Ensure 'form' is passed in the context in your view -->
            <button type="submit">Login</button>
        </form>
    </div>

    <!-- Signup Form -->
    <div class="signup-container">
        <h3>Sign Up</h3>
        <form method="post" action="{% url 'signup' %}">
            {% csrf_token %}
            {{ signup_form.as_p }}  <!-- Ensure 'signup_form' is passed in the context in your view -->
            <button type="submit">Sign Up</button>
        </form>
    </div>
{% endif %}

{% endblock %}
